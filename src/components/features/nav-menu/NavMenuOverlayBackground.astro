<canvas
	id="nav-menu__overlay__background"
	transition:persist="nav-menu__overlay__background"></canvas>

<script>
	import { register } from "@src/events/global/nav-menu";
	import NavMenuBackgroundRenderer from "@src/webgl/NavMenuBackgroundRender";

	const renderer = new NavMenuBackgroundRenderer(
		document.querySelector("canvas#nav-menu__overlay__background")!,
	);

	renderer.resize();

	register("open", renderer.openShutter);
	register("close", renderer.closeShutter);
	window.addEventListener("resize", renderer.resize);
</script>

<style>
	canvas#nav-menu__overlay__background {
		position: fixed;
		width: 100%;
		height: 100%;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
		z-index: 999;
		pointer-events: none;
	}
</style>
