<canvas id="nav-menu__shutter" transition:persist="nav-menu__shutter"></canvas>

<script>
	import { register } from "@src/events/global/nav-menu";
	import NavMenuShutterRenderer from "@src/webgl/NavMenuShutterRenderer";

	const renderer = new NavMenuShutterRenderer(
		document.querySelector("canvas#nav-menu__shutter")!,
		{ verticalCells: 40 },
	);

	renderer.resize();

	register("open", renderer.open);
	register("close", renderer.close);
	window.addEventListener("resize", renderer.resize);
</script>

<style>
	canvas#nav-menu__shutter {
		position: fixed;
		width: 100%;
		height: 100%;
		top: 0;
		bottom: 0;
		left: 0;
		right: 0;
		z-index: 999;
		pointer-events: none;
	}
</style>
