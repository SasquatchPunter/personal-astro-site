---
/**
 * An top level overlay that creates a noise effect and blends it with underlying elements.
 */

type Props = {
	active?: boolean;
};

const { active = true } = Astro.props;
---

{
	active ? (
		<div class="fixed top-0 bottom-0 left-0 right-0 pointer-events-none bg-noise mix-blend-multiply z-50" />
	) : null
}

<style>
	div {
		animation: grain 400ms steps(1) infinite;
	}

	@keyframes grain {
		0% {
			background-position: -10% 50%;
		}
		10% {
			background-position: 0;
		}
		20% {
			background-position: 70% -20%;
		}
		30% {
			background-position: -30% -50%;
		}
		40% {
			background-position: -10% -50%;
		}
		50% {
			background-position: 20% 80%;
		}
		60% {
			background-position: 30% 20%;
		}
		70% {
			background-position: 90% -60%;
		}
		80% {
			background-position: -50% -90%;
		}
		90% {
			background-position: 50% 0;
		}
	}
</style>
