<svg id="nav-menu__toggle__icon" viewBox="0 -32 32 96">
	<g>
		<path d="M 2,10 L 8,6 L 30,6 L 24,10 Z"></path>
		<path d="M 2,18 L 8,14 L 30,14 L 24,18 Z"></path>
		<path d="M 2,26 L 8,22 L 30,22 L 24,26 Z"></path>
	</g>

	<g>
		<path d="M 2,6 L 8,6 L 30,26 L 24,26 Z"></path>
		<path d="M 2,26 L 24,6 L 30,6 L 8,26 Z"></path>
	</g>
</svg>

<script>
	import { register } from "@src/events/global/nav-menu";

	const $svg = document.querySelector(
		"svg#nav-menu__toggle__icon",
	)! as HTMLElement;

	const open = () => $svg.setAttribute("data-open", "true");
	const close = () => $svg.removeAttribute("data-open");

	register("open", open);
	register("close", close);
</script>

<style>
	svg {
		width: 100%;
		height: 300%;
		transform: translateY(-33%);
		fill: none;
		stroke: #d0f0d0;
		stroke-width: 2;
		stroke-linecap: square;
		stroke-linejoin: bevel;
		pointer-events: none;
	}

	svg > g:nth-child(1) {
		& path {
			transition: 200ms ease-in-out;

			&:nth-child(1) {
				transition-delay: 0;
			}
			&:nth-child(2) {
				transition-delay: 50ms;
			}
			&:nth-child(3) {
				transition-delay: 100ms;
			}
		}
	}

	svg[data-open] > g:nth-child(1) {
		& path {
			transform: translateY(32px);
			opacity: 0;

			&:nth-child(1) {
				transition-delay: 100ms;
			}
			&:nth-child(2) {
				transition-delay: 50ms;
			}
			&:nth-child(3) {
				transition-delay: 0ms;
			}
		}
	}

	svg > g:nth-child(2) {
		& path {
			transition: 200ms ease-in-out;
			transform: translateY(-32px);
			opacity: 0;

			&:nth-child(1) {
				transition-delay: 0;
			}
			&:nth-child(2) {
				transition-delay: 100ms;
			}
		}
	}

	svg[data-open] > g:nth-child(2) {
		& path {
			transform: translateY(0);
			opacity: 1;
		}
	}
</style>
